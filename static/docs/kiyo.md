## Kiyo

å•æ–‡ä»¶å°è£…çš„webUIå½±æ¢­ä»£ç†å·¥å…· For Windows, Linux

### ç³»ç»Ÿè¦æ±‚

ğŸš¦ Windows10 with C++ 2010 plus
ğŸš¦ Linux with GLIBC_2.25 plus

### ç¼–è¯‘ç¯å¢ƒ

âœ” Ubuntu18.04 ç¼–è¯‘é€šè¿‡
âœ” Windows10 19.03 ç¼–è¯‘é€šè¿‡

### ç®€ä»‹

**Kiyo**é€šè¿‡å¯¹socks5åè®®ä»£ç†å·¥å…·åº“è¿›è¡Œå°è£…ï¼Œå¯ä»¥è®©ä½ åœ¨Windowså’ŒLinuxç³»ç»Ÿä¸Šæ— éšœç¢åœ°ä½¿ç”¨åŠ å¯†çš„socks5åè®®è¿›è¡Œç§‘å­¦ä¸Šç½‘ï¼Œç›®å‰æ²¡æœ‰å°è£…proxyç›¸å…³åº“ï¼Œå…¨å±€ä»£ç†éœ€è¦æ‰‹åŠ¨å¼€å¯ï¼Œpacæ¨¡å¼ä»£ç†æš‚æ—¶æ— æ³•å®ç°ã€‚

**Kiyo**æ‹¥æœ‰ç®€å•çš„ğŸŒwebä¸»é¡µï¼Œå¼€å¯è¿…é€Ÿï¼Œåªè¦é€šè¿‡æµè§ˆå™¨å³å¯å¿«é€Ÿé…ç½®æ–‡ä»¶ï¼Œæ— éœ€å›¾å½¢åŒ–å®¢æˆ·ç«¯ï¼Œæ”¯æŒå¯è§†åŒ–é¡µé¢ä¸‹çš„å¼€å¯æœåŠ¡å’Œå…³é—­æœåŠ¡ï¼Œè§£æss/ssrè®¢é˜…é“¾æ¥åœ°å€ï¼Œ(æš‚æ—¶åªæ”¯æŒLinuxç³»ç»Ÿçš„åå°è¿è¡Œï¼ŒWindowséœ€è¦ä¿æŒå‘½ä»¤è¡Œçš„åå°å¼€å¯çŠ¶æ€)ï¼ŒäºŒç»´ç å¯¼å…¥å’Œæ‰¹é‡å¯¼å…¥åŠŸèƒ½å°†äºåç»­åŠ å…¥ã€‚

### ç•Œé¢

![demo1](http://mgek.cc/store/kiyo/demo1.jpg)

**å‘½ä»¤è¡Œå¯åŠ¨**

![demo2](http://mgek.cc/store/kiyo/demo2.jpg)

### å®‰è£…

#### å®‰è£…kiyo

<span style="color:#808080">Linux</span>

```bash
$ wget http://hub.lrenj.top/repo/kiyo
```

<span style="color:#808080">Windows</span>

```bash
$ wget http://hub.lrenj.top/repo/kiyo.zip
```

å•ç‹¬è¿è¡Œç¨‹åºæ— é…ç½®æ–‡ä»¶

```bash
$ wget http://hub.lrenj.top/repo/kiyo.exe
```

#### å®‰è£…ss

ä»…é’ˆå¯¹ä½¿ç”¨ssçš„æƒ…å†µ

```bash
$ pip3 install shadowsocks
```

å®‰è£…ååœ¨ç»ˆç«¯æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ

```bash
$ sslocal
$ ssserver
```

#### å®‰è£…è‡ªå®šä¹‰ä»£ç†æ¨¡å¼

```bash
Windows Proxifier
Windowsç‰ˆæœ¬çš„ä»£ç†è®¾ç½®å³å°†åŠ å…¥kiyo
Linux Proxychains
```

### æŸ¥çœ‹ä»‹ç»

ä½¿ç”¨å‘½ä»¤`./kiyo info`å¯ä»¥æŸ¥çœ‹**kiyo**çš„å…·ä½“ä¿¡æ¯å’Œä½¿ç”¨æ­¥éª¤

### ä½¿ç”¨æœ¬åœ°ä»£ç†

#### ğŸš€å¼€å§‹æ­å»ºä¸€ä¸ªssä»£ç†

åŸºäºWindowså’ŒLinuxçš„ssä»£ç†å¯åŠ¨æ–¹å¼ç•¥æœ‰ä¸åŒ

```bash
$ wget http://hub.lrenj.top/repo/kiyo.zip
$ unzip kiyo && cd kiyo
$ chmod 700 kiyo
$ ./kiyo ss
```

ä½¿ç”¨`ss`å‘½ä»¤å¼€å¯æœ¬åœ°ssä»£ç†æœåŠ¡ï¼Œ**kiyo**ä¼šä¸»åŠ¨å¯»æ‰¾å½“å‰ç›®å½•ä¸‹çš„`local.json`æ–‡ä»¶ä½œä¸ºé…ç½®æ–‡ä»¶å¯åŠ¨ï¼Œå¦‚æœæŠ¥Not Foundé”™è¯¯éœ€è¦å…ˆåˆ›å»º`local.json`æ–‡ä»¶

local.json

```json
{
    "server": "server ip",
    "server_port": "8080",
    "local_address": "127.0.0.1",
    "local_port": 2333,
    "password": "password",
    "timeout": 300,
    "method": "rc4-md5",
    "fast_open": false
}
```

é»˜è®¤ssæœåŠ¡å¯åŠ¨åœ¨æœ¬åœ°çš„`2333`ç«¯å£ï¼Œç°åœ¨æ‰“å¼€Windowsæˆ–è€…Linuxçš„ç³»ç»Ÿä»£ç†è®¾ç½®ï¼Œåœ¨ä»£ç†åœ°å€ä¸­å¡«å†™

| æœ¬åœ°åœ°å€  | ç›‘å¬ç«¯å£ | ç™½åå•            |
| --------- | -------- | ----------------- |
| 127.0.0.1 | 2333     | ä¾‹å¦‚www.baidu.com |

ä½¿ç”¨`-d`å‚æ•°å¯ä»¥å…è®¸ssæœåŠ¡åå°è¿è¡Œï¼Œå³`./kiyo ss -d`ï¼Œä»…æ”¯æŒLinuxç³»ç»Ÿ

#### ğŸš€å¼€å§‹æ­å»ºä¸€ä¸ªssrä»£ç†

**kiyo**å¯¹ssråè®®ä»£ç†è¿›è¡Œäº†å°è£…ï¼Œä½ æ— éœ€ä¸‹è½½å…¶ä»–åº“

```bash
$ ./kiyo ssr
```

ä½¿ç”¨å‘½ä»¤`ssr`å³å¯å¼€å¯ssræœ¬åœ°ä»£ç†ï¼ŒæœåŠ¡ä¾èµ–å½“å‰ç›®å½•ä¸‹çš„`ssr.json`æ–‡ä»¶ï¼Œå¦‚æœæŠ¥Not Foundé”™è¯¯éœ€è¦å…ˆåˆ›å»º`ssr.json`æ–‡ä»¶ã€‚

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨`--run`æŒ‡å®šé…ç½®æ–‡ä»¶çš„è·¯å¾„ï¼Œå¦‚ï¼š`./kiyo ssr --run /home/ssr/config.json`ï¼Œæ³¨æ„å‚æ•°ä¸ºç»å¯¹è·¯å¾„ã€‚

ssr.json

```json
{
    "server": "server ip",
    "server_ipv6": false,
    "server_port": 8080,
    "local_address": "127.0.0.1",
    "local_port": 2333,

    "password": "pass",
    "method": "rc4-md5-6",
    "protocol": "auth_aes128_md5",
    "protocol_param": "",
    "obfs": "plain",
    "obfs_param": "",
    "speed_limit_per_con": 0,
    "speed_limit_per_user": 0,

    "additional_ports" : {},
    "timeout": 120,
    "udp_timeout": 60,
    "dns_ipv6": false,
    "connect_verbose_info": 0,
    "redirect": "",
    "fast_open": false,

    "udp_cache": 64
}
```

`method`åŠ å¯†æ–¹å¼
`protocol`åè®®
`obfs`æ··æ·†æ–¹å¼

é»˜è®¤ssræœåŠ¡å¯åŠ¨åœ¨æœ¬åœ°çš„`2333`ç«¯å£ï¼Œç°åœ¨æ‰“å¼€Windowsæˆ–è€…Linuxçš„ç³»ç»Ÿä»£ç†è®¾ç½®ï¼Œåœ¨ä»£ç†åœ°å€ä¸­å¡«å†™

| æœ¬åœ°åœ°å€  | ç›‘å¬ç«¯å£ | ç™½åå•            |
| --------- | -------- | ----------------- |
| 127.0.0.1 | 2333     | ä¾‹å¦‚www.baidu.com |

å¯¹äºLinuxç³»ç»Ÿä½¿ç”¨`nohup`å¯ä»¥ä½¿**kiyo**ä¿æŒåå°è¿è¡Œï¼Œå³`nohup ./kiyo ssr &`

#### æ”¯æŒçš„åŠ å¯†æ–¹å¼

```bash
rc4
rc4-md5
rc4-md5-6

aes-128-ctr
aes-192-ctr
aes-256-ctr

aes-128-cfb
aes-192-cfb
aes-256-cfb

aes-128-cfb8
aes-192-cfb8
aes-256-cfb8

salsa20
chacha20
```

`salsa20,chacha20`éœ€è¦å®‰è£…é¢å¤–çš„åº“

#### æ”¯æŒçš„åè®®

```xml
origin
auth_sha1_v4
auth_aes128_md5
auth_aes128_sha1
auth_chain_a
auth_chain_b
```

**å¦‚æœä½¿ç”¨ auth_chain_a åè®®ï¼Œè¯·åŠ å¯†æ–¹å¼é€‰æ‹© noneï¼Œæ··æ·†éšæ„(å»ºè®® plain)**

#### æ”¯æŒçš„æ··æ·†æ–¹å¼

```xml
plain
http_simple
http_post
random_head
tls1.2_ticket_auth
```

é»˜è®¤ä¸º`plain`

### ä½¿ç”¨webUI

å¦‚æœä½ è§‰å¾—ä½¿ç”¨å‘½ä»¤è¡Œè¿‡äºå¤æ‚ï¼Œå¯ä»¥ä½¿ç”¨webUIé¡µé¢ï¼Œ**kiyo**æ”¯æŒåœ¨æµè§ˆå™¨é‡Œä¿®æ”¹é…ç½®æ–‡ä»¶

```bash
$ ./kiyo web
```

ä½¿ç”¨`web`å‚æ•°å¼€å¯webæœåŠ¡ï¼Œé»˜è®¤è¿è¡Œäº`5000`ç«¯å£ï¼Œæ­¤æ—¶åœ¨æµè§ˆå™¨ä¸­è®¿é—®[http://127.0.0.1:5000](http://127.0.0.1:5000)å³å¯è¿›å…¥webUIé¡µé¢ï¼ŒæŒ‰ä¸‹CTRL+Cå³å¯é€€å‡ºwebUI

![demo1](http://mgek.cc/store/kiyo/demo1.jpg)

é¢å¤–å‚æ•°`--port`å¯ä»¥ä¿®æ”¹webUIè¿è¡Œçš„ç«¯å£ï¼Œå¦‚`web --port 8080`
é¢å¤–å‚æ•°`--run`å¯ä»¥è®¾ç½®webUIå¤–éƒ¨è®¿é—®ï¼Œå¦‚æœä½ åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œ**kiyo**ï¼Œæƒ³è¦é€šè¿‡å¤–ç½‘è®¿é—®webUIé¡µé¢ï¼Œæ‰§è¡Œ`./kiyo web --run`å³å¯é€šè¿‡è®¿é—®ä½ çš„æœåŠ¡å™¨ip+ç«¯å£è¿›å…¥webUIé¡µé¢ã€‚

ç‚¹å‡»**ä¿å­˜é…ç½®**å³å¯ä¿å­˜ä½ åœ¨ç½‘é¡µä¸Šä¿®æ”¹çš„é…ç½®å‚æ•°ï¼Œæœªå¡«å†™çš„éƒ¨åˆ†å°†æŒ‰ç…§é»˜è®¤å‚æ•°ä¿å­˜
ç‚¹å‡»**å¯åŠ¨æœåŠ¡**å³å¯å¼€å¯æœ¬åœ°ä»£ç†æœåŠ¡ï¼ŒLinuxå»ºè®®é€šè¿‡å‘½ä»¤è¡Œ
ç‚¹å‡»**åœæ­¢æœåŠ¡**å³å¯å…³é—­ä»£ç†æœåŠ¡
ç‚¹å‡»**æŸ¥çœ‹å…¨éƒ¨**å¯ä»¥æŸ¥çœ‹ä½ çš„é…ç½®æ–‡ä»¶ä¿¡æ¯

é€šè¿‡`ssr`é“¾æ¥å¯¼å…¥æš‚æ—¶ä¸æ”¯æŒ

è®¿é—®åœ°å€[http://127.0.0.1:5000/ssr](http://127.0.0.1:5000/ssr)æˆ–è€…ç‚¹å‡»**ssrè®¾ç½®**å³å¯è¿›å…¥ssrä»£ç†æœåŠ¡çš„è®¾ç½®é¡µé¢

### ä½¿ç”¨æœåŠ¡å™¨æ¨¡å¼

âœˆé™¤äº†æœ¬åœ°ä»£ç†æœåŠ¡ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨**kiyo**å¼€å¯æœåŠ¡å™¨æ¨¡å¼ï¼Œå»ºç«‹ä¸€ä¸ªä¾›å¤–éƒ¨è®¿é—®çš„server(ä»…æ”¯æŒLinux)

```bash
$ ./kiyo server
```

æ­¤æœåŠ¡ä¾èµ–å½“å‰ç›®å½•ä¸‹çš„`server.json`æ–‡ä»¶

server.json

```json
{
    "server": "0.0.0.0",
    "server_port": "8080",
    "local_address": "127.0.0.1",
    "local_port": 2333,
    "password": "password",
    "timeout": 300,
    "method": "rc4-md5",
    "fast_open": false
}
```

`server_port`ä»£ç†å®¢æˆ·ç«¯è¿æ¥çš„è¿œç¨‹æœåŠ¡å™¨ç«¯å£
`local_port`æœ¬åœ°æœåŠ¡ç«¯ç›‘å¬çš„ç«¯å£

### åœæ­¢

ä½¿ç”¨å‘½ä»¤`./kiyo stop`å³å¯å…³é—­æœåŠ¡(ä»…æ”¯æŒLinux)
Windowsåœæ­¢è¯·ä½¿ç”¨webUIé‡Œçš„**åœæ­¢æœåŠ¡**æŒ‰é’®

### å…¨éƒ¨å‘½ä»¤

`info` æŸ¥çœ‹kiyoè¯¦ç»†ä¿¡æ¯
`help` æŸ¥çœ‹ä½¿ç”¨å¸®åŠ©
`version` æŸ¥çœ‹kiyoç‰ˆæœ¬ä¿¡æ¯
`ss` å¯åŠ¨æœ¬åœ°ä»£ç†æœåŠ¡
`ss -d` åå°è¿è¡ŒssæœåŠ¡
`ssr` å¯åŠ¨æœ¬åœ°ssrä»£ç†æœåŠ¡
`ssr --run` æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„è¿è¡Œ
`server` å¯åŠ¨æœåŠ¡å™¨æ¨¡å¼
`stop` åœæ­¢æœåŠ¡(linux)
`web` å¼€å¯webUI
`web --port` ä¿®æ”¹webUIè¿è¡Œç«¯å£
`web --run` å¼€å¯å¤–ç½‘è®¿é—®
`cd` å½©è›‹

### é—®é¢˜

| é—®é¢˜                                                   | é”™è¯¯                           | è§£å†³                                                         |      |
| ------------------------------------------------------ | ------------------------------ | ------------------------------------------------------------ | ---- |
| libpython3.7m.so requires GLIBC_2.25                   | GLIBC_2.25ç‰ˆæœ¬ä½äºè¦æ±‚         | å‡çº§ç³»ç»Ÿoræ”¾å¼ƒæ²»ç–—                                           | ğŸ”´    |
| cannot connect to 5000æˆ–ç³»ç»Ÿä¸å…è®¸ä¸€ä¸ªé‡å¤çš„å¥—æ¥å­—è¿æ¥ | 5000ç«¯å£è¢«å ç”¨                 | å…³é—­å ç”¨çš„ç¨‹åºæˆ–ä¿®æ”¹kiyoè¿è¡Œçš„ç«¯å£                           | âœ”    |
| Linuxä¸Šconnect to port 5000/2333                       | æ— æ³•è¿æ¥ç«¯å£å¯èƒ½æ˜¯é˜²ç«å¢™æœªå¼€å¯ | ä½¿ç”¨`firewall -cmd`å‘½ä»¤å¼€æ”¾ç«¯å£                              | âœ”    |
| `./kiyo`permission denied                              | æœªç»™è¶³æƒé™                     | chmod 700 kiyo                                               | âœ”    |
| local.json not found                                   | æ²¡æœ‰é…ç½®æ–‡ä»¶                   | å½“å‰ç›®å½•æ–°å»ºæ–‡ä»¶                                             | âœ”    |
| no such cmd sslocal/ssserver                           | shadowsockså®‰è£…é—®é¢˜            | `pip3 install shadowsocks`è‹¥æœªè§£å†³éœ€è¦ä¸ºsslocalç¨‹åºæ·»åŠ è½¯é“¾æ¥ | âœ”    |
| webUIè¿è¡Œæ—¶ç»ˆç«¯ä¸­çš„trackbacké”™è¯¯                       | webæœåŠ¡é”™è¯¯                    | ctrl+cåœæ­¢webUIé‡å¯webæœåŠ¡                                   | ğŸ”´    |



### å¼€æºè®¸å¯

ğŸ“„ **MIT License**

### ç‰ˆæƒ

Â® Landers1037

### ä¾èµ–çš„é¡¹ç›®

ğŸ“Œ [Shadowsocks](https://github.com/shadowsocks/shadowsocks)
ğŸ“Œ [Click](https://github.com/pallets/click)
ğŸ“Œ [Flask](https://github.com/pallets/flask)